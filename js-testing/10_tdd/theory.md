## Разработка через тестирование (TDD)
В какой момент лучше писать тесты? Вообще, существует три подхода:

- Тесты пишутся после кода
- Тесты пишутся вместе с кодом
- Тесты пишутся до кода

В некоторых ситуациях особого выбора нет. Например, при системном тестировании, когда тест имитирует поведение пользователей и выполняет действия в браузере. Такие тесты пишутся после кода.

В тестах более низкого уровня, интеграционных и модульных тестах, обычно можно выбирать из вариантов описанных выше. И подход "писать тесты после кода" относится к наименее полезным. Почему?

Сам процесс написания кода связан с постоянным запуском кода и проверкой того, что он работает. В самых простых, например, учебных задачах, этот запуск происходит довольно быстро.
```
// Легко запустить, легко проверить, что результат правильный
capitalize('hello'); // Hello
```
В реальном коде подготовка данных для проверки работы кода может занимать значительное время, минуты и десятки минут. С другой стороны, результатом работы проверяемого кода может быть что-то сложное, например, множество записей в базе данных или вывод определённой непростой структуры. Тогда каждый запуск кода на проверку превращается в целое приключение.
```
// Сложно подготовить данные. Сложно проверить результат работы.
// Загрузка товаров из 1C в базу данных
loadGoodsFrom1c();
```
Именно здесь на сцену выходит вариант "писать тесты до кода". У многих начинающих разработчиков, эта фраза вызывает ступор. Как можно писать тесты до того, как был написан код? Оказывается, можно и это даже приятно.

Допустим, мы хотим написать функцию, которая может повторять переданную строчку указанное количество раз:
```
repeat('$', 3); // $$$
```
Мы знаем, что она принимает на вход, мы знаем, какой у неё должен быть выход (спасибо, что ты [чистая](https://ru.wikipedia.org/wiki/%D0%A7%D0%B8%D1%81%D1%82%D0%BE%D1%82%D0%B0_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8)). Можем ли мы уже написать тесты? Конечно!
```
test('repeat', () => {
expect(repeat('$', 3)).toBe('$$$');
});
```
Сколько займёт времени написать такой тест у опытного разработчика? Думаю секунд 15, именно столько времени мне понадобилось для кода выше. Зато теперь для проверки работы этого кода достаточно набрать `jest` в консоли.

У тестирования до написания кода есть ещё одно мощное преимущество. Оно заставляет программиста в первую очередь думать о дизайне своего решения, о том, как им будут пользоваться. А не о том, как красиво он реализует всё внутри. Грамотные интерфейсы – залог успеха.

В мире разработки подход, при котором тесты пишутся до кода, называется Test-Driven Development (TDD).

Разработка через тестирование

TDD по задумке изобретателя этой техники подразумевает, что вся разработка состоит из повторяющегося цикла, где на каждой итерации пишется тест, который не проходит, затем дописывается код, удовлетворяющий данному тесту. После этого всё повторяется. Так, шаг за шагом, строится приложение.

_Сейчас все по инерции продолжают говорить именно о таком способе. В нём тесты пишутся на все части кода с максимальной детализацией. Этот вид TDD хоть и говорит о важности дизайна, но фокусируется на конкретных функциях и классах приложения вместо цельной картины. Но есть и другое TDD, где тесты на внутренние части не пишутся почти никогда. Подробнее об этом в статье в дополнительных материалах._

Сам по себе Хекслет — яркий пример того, как тесты пишутся до кода. Абсолютно во всех наших практиках на всех языках тесты есть, а кода нет :)

## Дополнительные материалы
- [Начинаем писать тесты правильно](https://ru.hexlet.io/blog/posts/how-to-test-code)
- [Начинаем писать тесты правильно (Видео)](https://www.youtube.com/watch?v=zsz8kdi62mE)
